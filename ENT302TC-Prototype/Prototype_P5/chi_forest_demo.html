<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chi-Forest ¬∑ Smart Healthy Drink Recommender (Demo)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #F9FAFB;
      --bg-soft: #ffffff;
      --card: #ffffff;
      --accent: #00B36D;          /* main green */
      --accent-soft: rgba(34, 197, 94, 0.12);
      --accent-strong: #008051;
      --text: #1F2937;
      --muted: #6b7280;
      --border-subtle: rgba(148, 163, 184, 0.5);
      --radius-lg: 18px;
      --shadow-soft: 0 14px 30px rgba(15, 23, 42, 0.10);
      --shadow-chip: 0 0 0 1px rgba(148, 163, 184, 0.4);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      background: radial-gradient(circle at top, #e0f2f1 0%, #f9fafb 45%, #f4f7f3 100%);
      color: var(--text);
    }

    /* ===== Header / Nav ===== */
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      overflow-x: auto;
      backdrop-filter: blur(14px);
      background: linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0.96),
        rgba(255, 255, 255, 0.92),
        rgba(255, 255, 255, 0.85)
      );
      border-bottom: 1px solid rgba(148, 163, 184, 0.35);
    }

    .header-inner {
      max-width: 1080px;
      margin: 0 auto;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .brand-logo {
      width: 36px;
      height: 36px;
      border-radius: 14px;
      background:
        radial-gradient(circle at 20% 0%, #facc15 0, transparent 55%),
        radial-gradient(circle at 80% 90%, #4ade80 0, transparent 55%),
        radial-gradient(circle at 50% 50%, #22c55e 0, #16a34a 55%, #15803d 100%);
      box-shadow: 0 8px 18px rgba(34, 197, 94, 0.45);
    }

    .brand-text-main {
      font-size: 17px;
      font-weight: 650;
      letter-spacing: 0.04em;
    }

    .brand-text-sub {
      font-size: 11px;
      color: var(--muted);
    }

    nav {
      display: flex;
      flex-wrap: nowrap;
      gap: 8px;
      justify-content: flex-start;
      overflow-x: auto;
      overflow-y: hidden;
      white-space: nowrap; 
      padding-bottom: 6px;
      -webkit-overflow-scrolling: touch; 
    }

    nav button {
      border: none;
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 12px;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.9);
      color: var(--muted);
      border: 1px solid rgba(209, 213, 219, 0.9);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all 0.16s ease-out;
      white-space: nowrap;
    }

    nav button:hover {
      border-color: var(--accent);
      color: #065f46;
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.35);
      transform: translateY(-1px);
    }

    nav button.active {
      background: linear-gradient(135deg, #bbf7d0, #4ade80, #16a34a);
      color: #064e3b;
      border-color: transparent;
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.4);
    }

    /* ===== Layout ===== */
    main {
      max-width: 1080px;
      margin: 0 auto;
      padding: 16px 16px 32px;
    }

    @keyframes softGlowBorder {
      0% {
        box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.0);
      }
      100% {
        box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.30);
      }
    }

    section {
      display: none;
      background: var(--bg-soft);
      border-radius: 24px;
      padding: 20px 18px 22px;
      margin: 14px 0;
      border: 1px solid rgba(209, 213, 219, 0.9);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
      transition: transform 0.16s ease-out, box-shadow 0.16s ease-out, border-color 0.16s ease-out;
    }

    section::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 120% -10%, rgba(110, 231, 183, 0.22), transparent 65%),
        radial-gradient(circle at -10% 120%, rgba(190, 242, 100, 0.16), transparent 70%);
      pointer-events: none;
      opacity: 0.8;
    }

    section > * {
      position: relative;
      z-index: 1;
    }

    section.active {
      display: block;
      animation: softGlowBorder 0.35s ease-out;
    }

    section:hover {
      transform: translateY(-2px);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.16);
      border-color: rgba(74, 222, 128, 0.7);
    }

    h2 {
      margin: 0 0 6px;
      font-size: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    h3 {
      margin-top: 16px;
      margin-bottom: 6px;
      font-size: 15px;
      color: #111827;
    }

    .emoji {
      font-size: 22px;
    }

    .tagline {
      margin: 0 0 16px;
      color: var(--muted);
      font-size: 13px;
    }

    /* ===== Buttons / Chips / Badges ===== */
    .primary-btn,
    .secondary-btn {
      border: none;
      border-radius: 999px;
      padding: 9px 18px;
      font-size: 13px;
      cursor: pointer;
      margin-right: 8px;
      margin-top: 8px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.16s ease-out;
      white-space: nowrap;
    }

    .primary-btn {
      background: linear-gradient(135deg, #bbf7d0, #4ade80, #16a34a);
      color: #064e3b;
      font-weight: 600;
      box-shadow: 0 10px 24px rgba(22, 163, 74, 0.35);
      border: 1px solid rgba(187, 247, 208, 0.9);
    }

    .primary-btn:hover {
      transform: translateY(-2px) scale(1.01);
      box-shadow: 0 14px 32px rgba(22, 163, 74, 0.45);
      filter: brightness(1.03);
    }

    .secondary-btn {
      background: #f9fafb;
      color: var(--text);
      border: 1px solid rgba(209, 213, 219, 0.9);
    }

    .secondary-btn:hover {
      border-color: var(--accent);
      box-shadow: var(--shadow-chip);
      background: #ecfdf3;
      color: #065f46;
      transform: translateY(-1px);
    }

    .pill {
      border-radius: 999px;
      background: #f9fafb;
      border: 1px solid rgba(209, 213, 219, 0.9);
      padding: 3px 10px;
      font-size: 11px;
      margin-right: 6px;
      margin-top: 4px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--muted);
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.22);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-size: 11px;
      padding: 3px 10px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent-strong);
      margin-right: 4px;
      margin-top: 4px;
    }

    .badge-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent-strong);
    }

    /* ===== Cards / Grids ===== */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
    }

    .card {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
      padding: 12px 12px 13px;
      background: #ffffff;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.10);
      position: relative;
      overflow: hidden;
      transition: transform 0.14s ease-out, box-shadow 0.14s ease-out, border-color 0.14s ease-out;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -30%;
      background:
        radial-gradient(circle at 120% -5%, rgba(74, 222, 128, 0.16), transparent 55%),
        radial-gradient(circle at -10% 120%, rgba(52, 211, 153, 0.12), transparent 60%);
      opacity: 0.9;
      pointer-events: none;
    }

    .card > * {
      position: relative;
      z-index: 1;
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 32px rgba(15, 23, 42, 0.16);
      border-color: rgba(74, 222, 128, 0.75);
    }

    .card-header {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .card-header-tag {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
    }

    .small {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.5;
    }

    .highlight-box {
      background: linear-gradient(135deg, #ecfdf3, #f0fdf4);
      border-radius: 16px;
      padding: 10px 12px;
      font-size: 13px;
      border: 1px solid rgba(52, 211, 153, 0.55);
      margin: 8px 0 14px;
      color: #14532d;
    }

    .highlight-box strong {
      color: var(--accent-strong);
    }

    ul.small {
      padding-left: 18px;
    }

    /* ===== Form / Fields ===== */
    .field-group {
      margin-bottom: 10px;
    }

    .field-group label {
      display: block;
      font-size: 12px;
      margin-bottom: 4px;
      color: #111827;
    }

    .field-group input[type="text"],
    .field-group select {
      width: 100%;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid rgba(209, 213, 219, 0.9);
      font-size: 13px;
      background: #ffffff;
      color: var(--text);
      outline: none;
      transition: border-color 0.14s ease-out, box-shadow 0.14s ease-out;
    }

    .field-group input[type="text"]:focus,
    .field-group select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.55);
    }

    .field-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .field-inline label {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: #f9fafb;
      border-radius: 999px;
      padding: 4px 9px;
      font-size: 11px;
      cursor: pointer;
      border: 1px solid rgba(209, 213, 219, 0.9);
      color: var(--muted);
      transition: border-color 0.14s ease-out, box-shadow 0.14s ease-out, background 0.14s ease-out;
    }

    .field-inline label:hover {
      border-color: var(--accent);
      color: #065f46;
      box-shadow: var(--shadow-chip);
      background: #ecfdf3;
    }

    .field-inline input {
      accent-color: var(--accent-strong);
    }

    /* ===== Vending mock ===== */
    .vending-mock {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 6px;
      margin-top: 10px;
    }

    .vending-slot {
      height: 64px;
      border-radius: 14px;
      border: 1px solid rgba(209, 213, 219, 0.9);
      background: #f9fafb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      text-align: center;
      padding: 4px;
      color: var(--muted);
      transition: all 0.16s ease-out;
    }

    .vending-slot.highlight {
      border-color: var(--accent);
      color: #065f46;
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.5), 0 10px 24px rgba(22, 163, 74, 0.30);
      background: linear-gradient(135deg, #dcfce7, #bbf7d0);
    }

    .vending-slot.highlight:hover {
      transform: translateY(-2px);
      filter: brightness(1.05);
    }

    /* ===== Modal placeholder ===== */
    .modal-placeholder {
      border-radius: 14px;
      border: 1px dashed rgba(148, 163, 184, 0.7);
      padding: 10px 11px;
      background: #f9fafb;
      font-size: 12px;
      margin-top: 11px;
      color: var(--muted);
    }

    /* ===== Footer ===== */
    footer {
      text-align: center;
      font-size: 11px;
      color: #9ca3af;
      padding: 10px 0 18px;
    }

    /* ===== Responsive ===== */
    @media (max-width: 640px) {
      .header-inner {
        flex-direction: column;
        align-items: flex-start;
      }

      main {
        padding: 10px 10px 24px;
      }

      section {
        border-radius: 18px;
        padding: 16px 12px 18px;
      }
    }
  </style>
</head>
<body>
  <!-- Back to Main Page -->
  <a href="../index.html" style="
    position: fixed; 
    top: 0; 
    left: 0; 
    padding: 12px 20px; 
    background-color: var(--accent-strong); 
    color: white; 
    text-decoration: none; 
    font-weight: 600;
    font-size: 14px;
    z-index: 1000; /* Ensure it's on top */
    border-bottom-right-radius: 8px;
    transition: background-color 0.3s;
  " onmouseover="this.style.backgroundColor='var(--accent)'" onmouseout="this.style.backgroundColor='var(--accent-strong)'">
    ‚Üê BACK TO PROJECT OVERVIEW (HOME)
  </a>
  <!-- ===== Header / Nav ===== -->
  <header>
    <div class="header-inner">
      <div class="brand">
        <div class="brand-logo"></div>
        <div>
          <div class="brand-text-main">Chi-Forest ¬∑ Smart Vending Demo</div>
          <div class="brand-text-sub">Health questionnaire ‚Üí drink recommendation ‚Üí vending mapping</div>
        </div>
      </div>
      <nav>
        <button class="active" data-target="home">Home</button>
        <button data-target="questionnaire">Health Questionnaire</button>
        <button data-target="recommendation">Recommendations</button>
        <button data-target="profile">My Chi-Forest Profile</button>
        <button data-target="loyalty">Points & Challenges</button>
        <button data-target="about">About the Project</button>
      </nav>
    </div>
  </header>

  <main>
    <!-- ===== 1. HOME ===== -->
    <section id="home" class="active">
      <h2><span class="emoji">ü•§</span> Chi-Forest ¬∑ Healthy Drink Recommender</h2>
      <p class="tagline">
        This prototype shows how a health questionnaire can drive personalised drink recommendations
        for a Chi-Forest smart vending machine.
      </p>

      <div class="highlight-box">
        <strong>Demo flow:</strong><br />
        Fill in a <span class="pill"><span class="pill-dot"></span> Chi-Forest Health Questionnaire</span> ‚Üí
        generate a <span class="pill"><span class="pill-dot"></span> personalised drink recommendation</span> ‚Üí
        map it onto a <span class="pill"><span class="pill-dot"></span> smart vending UI</span> with
        highlighted slots.
      </div>

      <div>
        <button class="primary-btn" data-target="questionnaire">
          Start Health Questionnaire
        </button>
        <button class="secondary-btn" data-target="recommendation">
          View Today‚Äôs Recommendation (Demo)
        </button>
      </div>

      <h3>Today‚Äôs Chi-Forest snapshot (mock data)</h3>
      <div class="grid">
        <div class="card">
          <div class="card-header">
            <span>Example health profile</span>
            <span class="card-header-tag">User profile</span>
          </div>
          <p class="small">
            ¬∑ Elevated blood sugar risk<br />
            ¬∑ Exercises 3‚Äì4 times per week<br />
            ¬∑ Sensitive to caffeine at night
          </p>
          <span class="badge"><span class="badge-dot"></span> Zero sugar first</span>
          <span class="badge"><span class="badge-dot"></span> Post-workout hydration</span>
          <span class="badge"><span class="badge-dot"></span> Low-burden sparkling water</span>
        </div>
        <div class="card">
          <div class="card-header">
            <span>Example recommendation direction</span>
            <span class="card-header-tag">Scenario</span>
          </div>
          <p class="small">
            It‚Äôs 4:00 PM and the user just finished a one-hour workout.<br />
            The system prioritises: ‚ÄúChi-Forest zero-sugar sparkling water‚Äù and
            ‚Äúelectrolyte water with controlled sugar‚Äù as main options.
          </p>
        </div>
      </div>
    </section>

    <!-- ===== 2. QUESTIONNAIRE ===== -->
    <section id="questionnaire">
      <h2><span class="emoji">ü©∫</span> Chi-Forest Health Questionnaire</h2>
      <p class="tagline">
        This page simulates the ‚Äúscan QR ‚Üí answer quick questions‚Äù flow that feeds the recommendation engine.
      </p>

      <!-- Step 1 -->
      <h3>Step 1 ¬∑ Basic information</h3>
      <div class="field-group">
        <label for="ageGroup">Age group</label>
        <select id="ageGroup">
          <option value="">Please select</option>
          <option>18‚Äì25</option>
          <option>26‚Äì35</option>
          <option>36+</option>
        </select>
      </div>

      <div class="field-group">
        <label>Gender (optional)</label>
        <div class="field-inline">
          <label><input type="radio" name="gender" /> Male</label>
          <label><input type="radio" name="gender" /> Female</label>
          <label><input type="radio" name="gender" /> Prefer not to say</label>
        </div>
      </div>

      <!-- Step 2 -->
      <h3>Step 2 ¬∑ Health conditions</h3>
      <div class="field-group">
        <label>Select any health notes that are relevant to you</label>
        <div class="field-inline">
          <label><input type="checkbox" /> Blood sugar risk / family history</label>
          <label><input type="checkbox" /> Currently managing weight</label>
          <label><input type="checkbox" /> Sensitive to caffeine</label>
          <label><input type="checkbox" /> Blood lipid / cardiovascular risk</label>
        </div>
      </div>

      <!-- Step 3 -->
      <h3>Step 3 ¬∑ Current drinking context</h3>
      <div class="field-group">
        <label>Where are you about to drink Chi-Forest?</label>
        <div class="field-inline">
          <label><input type="radio" name="scene" /> Just finished a workout</label>
          <label><input type="radio" name="scene" /> Between classes / in the office</label>
          <label><input type="radio" name="scene" /> Late-night overtime</label>
          <label><input type="radio" name="scene" /> Just craving sparkling water</label>
        </div>
      </div>

      <!-- Step 4 -->
      <h3>Step 4 ¬∑ This session‚Äôs goal</h3>
      <div class="field-group">
        <label>What matters most right now? (you may choose multiple)</label>
        <div class="field-inline">
          <label><input type="checkbox" /> Sugar control / weight control</label>
          <label><input type="checkbox" /> Post-workout hydration & electrolytes</label>
          <label><input type="checkbox" /> Staying alert / focused</label>
          <label><input type="checkbox" /> Refreshing taste & mouthfeel</label>
        </div>
      </div>

      <!-- Step 5 -->
      <h3>Step 5 ¬∑ Submit</h3>
      <div class="field-group">
        <label><input type="checkbox" /> Save this as my ‚ÄúChi-Forest Health Profile‚Äù for one-click use next time</label>
      </div>

      <button class="primary-btn" data-target="recommendation">
        Submit & Generate Chi-Forest Recommendations (Demo)
      </button>
      <p class="small">
        * In a real deployment, this button would call a back-end rule/model engine that combines
        your answers with Chi-Forest product nutrition data.
      </p>
    </section>

    <!-- ===== 3. RECOMMENDATION ===== -->
    <section id="recommendation">
      <h2><span class="emoji">‚ú®</span> Your Chi-Forest Drink Recommendations</h2>
      <p class="tagline">
        This page showcases both the recommendation logic and how it can be mapped onto a smart vending UI.
      </p>

      <!-- profile summary -->
      <div class="highlight-box" id="profile-summary">
        <strong>Current health snapshot (mock)</strong><br />
        Status: blood sugar risk ¬∑ regularly active ¬∑ sensitive to caffeine at night<br />
        Context: post-workout ¬∑ 16:20<br />
        Goal: hydration & electrolytes + sugar control
      </div>

      <!-- Top Picks -->
      <h3>Top Picks ¬∑ Strongly recommended</h3>
      <div class="grid">
        <div class="card">
          <div class="card-header">
            <span id="top1-title">Chi-Forest Zero-Sugar Sparkling Water (Grape)</span>
            <span class="card-header-tag">Top 1</span>
          </div>
          <p class="small" id="top1-desc">
            Zero sugar and zero fat, suitable as a low-burden post-workout drink that avoids extra sugar intake.
          </p>
          <div id="top1-tags">
            <span class="badge"><span class="badge-dot"></span> Zero sugar ¬∑ zero fat</span>
            <span class="badge"><span class="badge-dot"></span> Suitable for blood sugar risk</span>
            <span class="badge"><span class="badge-dot"></span> Post-workout friendly</span>
          </div>
          <div>
            <button class="secondary-btn">View nutrition details</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span id="top2-title">Chi-Forest Electrolyte Water (Lemon)</span>
            <span class="card-header-tag">Top 2</span>
          </div>
          <p class="small" id="top2-desc">
            Added electrolytes and controlled sugar level, ideal after medium to high intensity exercise.
          </p>
          <div id="top2-tags">
            <span class="badge"><span class="badge-dot"></span> Electrolyte hydration</span>
            <span class="badge"><span class="badge-dot"></span> Reduced sugar</span>
            <span class="badge"><span class="badge-dot"></span> Sport scenario first</span>
          </div>
          <div>
            <button class="secondary-btn">View nutrition details</button>
          </div>
        </div>
      </div>

      <!-- More options -->
      <h3>More Chi-Forest options that still fit you</h3>
      <div class="grid">
        <div class="card">
          <div class="card-header">
            <span>Chi-Forest Unsweetened Oolong Tea</span>
            <span class="card-header-tag">Option</span>
          </div>
          <p class="small">
            Contains a small amount of caffeine, good for light alertness without adding sugar.
            Not recommended late at night for caffeine-sensitive users.
          </p>
          <span class="badge"><span class="badge-dot"></span> Unsweetened</span>
          <span class="badge"><span class="badge-dot"></span> Mild alertness</span>
        </div>
        <div class="card">
          <div class="card-header">
            <span>Chi-Forest Fruit-Flavoured Sparkling Water (Example)</span>
            <span class="card-header-tag">Option</span>
          </div>
          <p class="small">
            Placeholder for additional product lines and future recommendation rules you may design.
          </p>
          <span class="badge"><span class="badge-dot"></span> Low sugar</span>
          <span class="badge"><span class="badge-dot"></span> Taste-prioritised</span>
        </div>
      </div>

      <!-- Vending mapping -->
      <h3>Smart vending slot highlighting (concept)</h3>
      <p class="small">
        In deployment, after the user completes the questionnaire on their phone, the vending machine screen
        can highlight the slots that match the recommendation results.
      </p>
      <div class="vending-mock">
        <div class="vending-slot highlight">
          Top 1<br />Sparkling water<br />Highlighted slot
        </div>
        <div class="vending-slot highlight">
          Top 2<br />Electrolyte water<br />Highlighted slot
        </div>
        <div class="vending-slot">
          Regular drink
        </div>
        <div class="vending-slot">
          Regular drink
        </div>
        <div class="vending-slot">
          Regular drink
        </div>
        <div class="vending-slot">
          Regular drink
        </div>
        <div class="vending-slot">
          Regular drink
        </div>
        <div class="vending-slot">
          Regular drink
        </div>
      </div>

      <!-- modal placeholder -->
      <div class="modal-placeholder">
        In your full prototype, this area can become a real modal for nutrition details when
        ‚ÄúView nutrition details‚Äù is clicked:<br />
        ¬∑ sugar, fat, caffeine per bottle<br />
        ¬∑ ‚Äúsuitable / not suitable‚Äù tags (blood sugar risk, late-night use, post-workout, etc.)<br />
        ¬∑ a one-sentence explanation of why the drink is recommended for this health profile.
      </div>
    </section>

    <!-- ===== 4. PROFILE ===== -->
    <section id="profile">
      <h2><span class="emoji">üë§</span> My Chi-Forest Health Profile & History</h2>
      <p class="tagline">
        This section visualises the idea of a persistent health profile and recommendation history.
      </p>

      <h3>Current profile (mock)</h3>
      <div class="card">
        <div class="card-header">
          <span>Profile tags</span>
          <span class="card-header-tag">Snapshot</span>
        </div>
        <p class="small">
          ¬∑ Blood sugar risk<br />
          ¬∑ Exercises ‚â• 3 times per week<br />
          ¬∑ Avoids caffeine at night
        </p>
        <button class="secondary-btn" data-target="questionnaire">
          Edit questionnaire
        </button>
      </div>

      <h3>Last 5 recommendation sessions (mock)</h3>
      <div class="card">
        <p class="small">
          ¬∑ Nov 20, afternoon: post-workout ‚Üí recommended ‚Äúzero-sugar sparkling water‚Äù +
          ‚Äúelectrolyte water‚Äù; user chose: zero-sugar sparkling water ‚úî<br />
          ¬∑ Nov 18, morning: office ‚Üí recommended ‚Äúunsweetened tea‚Äù; user chose: unsweetened oolong ‚úî<br />
          ¬∑ Nov 16, night: overtime ‚Üí recommended ‚Äúzero-sugar sparkling water‚Äù; user did not purchase ‚ùå<br />
          ¬∑ ‚Ä¶ (used only to show that a history exists and can be analysed)
        </p>
      </div>

      <h3>Health trend (mock)</h3>
      <div class="card">
        <p class="small">
          This week, around <strong>83%</strong> of your purchases have been zero-sugar or low-sugar drinks,
          which is <strong>12%</strong> higher than last week.<br />
          Chi-Forest suggestion: keeping this pattern supports long-term sugar and weight management.
        </p>
      </div>
    </section>

    <!-- ===== 5. LOYALTY ===== -->
    <section id="loyalty">
      <h2><span class="emoji">üéØ</span> Chi-Forest Points & Health Challenges</h2>
      <p class="tagline">
        This section demonstrates a health-behaviour‚Äìdriven loyalty concept.
      </p>

      <div class="card">
        <div class="card-header">
          <span>My Chi-Forest points (mock)</span>
          <span class="card-header-tag">Loyalty</span>
        </div>
        <p class="small">
          Current points: <strong>120</strong><br /><br />
          Recent point events:<br />
          ¬∑ Completed health questionnaire (new user): +20<br />
          ¬∑ Chose zero-sugar / low-sugar drinks 3 times this week: +30<br />
          ¬∑ Completed 3 ‚Äúpost-workout hydration‚Äù purchases in one week: +50<br />
        </p>
      </div>

      <h3>Ongoing health challenges (mock)</h3>
      <div class="grid">
        <div class="card">
          <div class="card-header">
            <span>7-Day ‚ÄúZero-Sugar Chi-Forest‚Äù Challenge</span>
            <span class="card-header-tag">Challenge</span>
          </div>
          <p class="small">
            Choose zero-sugar or low-sugar Chi-Forest drinks on 7 consecutive days to earn
            an extra 70 points.
          </p>
          <span class="badge"><span class="badge-dot"></span> Sugar control</span>
          <span class="badge"><span class="badge-dot"></span> Behaviour incentive</span>
        </div>
        <div class="card">
          <div class="card-header">
            <span>‚ÄúPost-Workout Hydration‚Äù Challenge</span>
            <span class="card-header-tag">Challenge</span>
          </div>
          <p class="small">
            Within 7 days, complete 3 purchases of electrolytes or hydration-focused Chi-Forest drinks
            within 30 minutes after exercising.
          </p>
          <span class="badge"><span class="badge-dot"></span> Sports context</span>
          <span class="badge"><span class="badge-dot"></span> Hydration</span>
        </div>
      </div>
    </section>

    <!-- ===== 6. ABOUT ===== -->
    <section id="about">
      <h2><span class="emoji">üìò</span> About This Chi-Forest Project</h2>
      <p class="tagline">
        This page explains the project logic for tutors and stakeholders.
      </p>

      <h3>Project background (short)</h3>
      <p class="small">
        The market for zero-sugar and low-sugar drinks in China is growing rapidly, and Chi-Forest
        has already built strong brand awareness among younger consumers. However, at offline vending machines,
        most choices are still based on ‚Äúfeeling‚Äù and price, without explicit guidance from health data
        or context-aware recommendations.
      </p>

      <h3>Key pain points</h3>
      <ul class="small">
        <li>Users struggle to translate their health status (e.g. blood sugar risk, workout intensity) into concrete drink choices.</li>
        <li>Vending machine UIs are visually rich but lack a sense of ‚Äúthis slot is tailored for me‚Äù.</li>
        <li>Existing loyalty schemes are not strongly linked to healthy consumption behaviour.</li>
      </ul>

      <h3>Role of this demo web app</h3>
      <p class="small">
        ¬∑ Acts as the entry point after scanning the QR code on a Chi-Forest vending machine, collecting a short health questionnaire.<br />
        ¬∑ Turns the answers into a lightweight health profile and uses rules/models to match it with product-level nutrition data.<br />
        ¬∑ Displays personalised drink recommendations and maps them onto vending machine slots via highlighting.<br />
        ¬∑ Demonstrates how behaviour-based points and challenges can connect health-conscious choices with Chi-Forest brand loyalty.
      </p>
    </section>
  </main>

  <footer>
    Chi-Forest ¬∑ Smart Healthy Drink Recommender (prototype for coursework demo)
  </footer>

  <!-- ===== JS: navigation + recommendation logic ===== -->
  <script>
    /* ---------- Navigation & section switching ---------- */
    const navButtons = document.querySelectorAll("nav button, [data-target]");
    const sections = document.querySelectorAll("main section");

    function showSection(id) {
      sections.forEach(sec => {
        sec.classList.toggle("active", sec.id === id);
      });
      document.querySelectorAll("header nav button").forEach(btn => {
        btn.classList.toggle("active", btn.getAttribute("data-target") === id);
      });

      // When entering the recommendation page, apply logic
      if (id === "recommendation") {
        applyRecommendationLogic();
      }
    }

    navButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-target");
        if (!target) return;
        showSection(target);
      });
    });

    /* =======================================================
       SIMPLE LOGIC ENGINE FOR CHI-FOREST RECOMMENDATIONS
       ======================================================= */

    // Collect questionnaire values
    function getQuestionnaireData() {
      const data = {};

      // Age
      data.age = document.getElementById("ageGroup").value;

      // Gender
      const gender = document.querySelector("input[name='gender']:checked");
      data.gender = gender ? gender.value : "";

      // Health conditions
      data.bloodSugarRisk = isChecked("Blood sugar risk / family history");
      data.weightControl = isChecked("Currently managing weight");
      data.caffeineSensitive = isChecked("Sensitive to caffeine");
      data.cardiovascular = isChecked("Blood lipid / cardiovascular risk");

      // Scene
      const scene = document.querySelector("input[name='scene']:checked");
      data.scene = scene ? scene.parentElement.textContent.trim() : "";

      // Goals
      data.goalSugar = isChecked("Sugar control / weight control");
      data.goalElectro = isChecked("Post-workout hydration & electrolytes");
      data.goalAlert = isChecked("Staying alert / focused");
      data.goalTaste = isChecked("Refreshing taste & mouthfeel");

      return data;
    }

    // Helper: check if a label with specific text is selected
    function isChecked(text) {
      const labels = Array.from(document.querySelectorAll(".field-inline label"));
      const target = labels.find(l => l.textContent.trim() === text);
      if (!target) return false;
      const input = target.querySelector("input");
      return input && input.checked;
    }

    /* =======================================================
       TAG COMPONENT
       ======================================================= */
    function tag(text) {
      return `
        <span class="badge">
          <span class="badge-dot"></span> ${text}
        </span>
      `;
    }

    /* =======================================================
       APPLY LOGIC TO THE RECOMMENDATION PAGE
       ======================================================= */
    function applyRecommendationLogic() {
      const data = getQuestionnaireData();

      const top1Title = document.querySelector("#top1-title");
      const top1Desc = document.querySelector("#top1-desc");
      const top1Tags = document.querySelector("#top1-tags");

      const top2Title = document.querySelector("#top2-title");
      const top2Desc = document.querySelector("#top2-desc");
      const top2Tags = document.querySelector("#top2-tags");

      if (!top1Title || !top1Desc || !top1Tags || !top2Title || !top2Desc || !top2Tags) {
        return;
      }

      // Reset to default
      top1Title.textContent = "Chi-Forest Zero-Sugar Sparkling Water (Grape)";
      top1Desc.textContent =
        "Zero sugar and zero fat, suitable as a low-burden post-workout drink that avoids extra sugar intake.";
      top1Tags.innerHTML =
        tag("Zero sugar ¬∑ zero fat") +
        tag("Suitable for blood sugar risk") +
        tag("Post-workout friendly");

      top2Title.textContent = "Chi-Forest Electrolyte Water (Lemon)";
      top2Desc.textContent =
        "Added electrolytes and controlled sugar level, ideal after medium to high intensity exercise.";
      top2Tags.innerHTML =
        tag("Electrolyte hydration") +
        tag("Reduced sugar") +
        tag("Sport scenario first");

      /* =============================
         RULE 1 ‚Äî Blood sugar risk
         ============================= */
      if (data.bloodSugarRisk) {
        top1Title.textContent = "Chi-Forest Zero-Sugar Sparkling Water (Grape)";
        top1Desc.textContent =
          "Zero-sugar option suitable for keeping glucose intake low throughout the day.";
        top1Tags.innerHTML = tag("Zero sugar") + tag("Glucose friendly");

        top2Title.textContent = "Chi-Forest Electrolyte Water (Lemon)";
        top2Desc.textContent =
          "Electrolyte hydration with controlled sugar level for recovery.";
        top2Tags.innerHTML = tag("Electrolytes") + tag("Low sugar");
      }

      /* =============================
         RULE 2 ‚Äî Workout scenario
         ============================= */
      if (data.scene.includes("workout")) {
        top1Title.textContent = "Chi-Forest Electrolyte Water (Lemon)";
        top1Desc.textContent =
          "Best for rehydration and electrolyte replenishment after exercise.";
        top1Tags.innerHTML = tag("Electrolytes") + tag("Post-workout");

        top2Title.textContent = "Zero-Sugar Sparkling Water (Peach)";
        top2Desc.textContent =
          "Light and refreshing option suitable after physical activity.";
        top2Tags.innerHTML = tag("Zero sugar") + tag("Refreshing");
      }

      /* =============================
         RULE 3 ‚Äî Need alertness
         ============================= */
      if (data.goalAlert && !data.caffeineSensitive) {
        top1Title.textContent = "Chi-Forest Unsweetened Oolong Tea";
        top1Desc.textContent =
          "Contains light caffeine to help improve focus without added sugar.";
        top1Tags.innerHTML = tag("Unsweetened") + tag("Light caffeine");

        top2Title.textContent = "Zero-Sugar Sparkling Water (Lychee)";
        top2Desc.textContent =
          "A refreshing option compatible with alertness-focused choices.";
        top2Tags.innerHTML = tag("Zero sugar") + tag("Refreshing");
      }

      /* =============================
         RULE 4 ‚Äî Late night + caffeine sensitive
         ============================= */
      if (data.scene.includes("night") && data.caffeineSensitive) {
        top1Title.textContent = "Zero-Sugar Sparkling Water (White Peach)";
        top1Desc.textContent =
          "Caffeine-free option ideal for evening or late-night consumption.";
        top1Tags.innerHTML = tag("Caffeine-free") + tag("Zero sugar");

        top2Title.textContent = "Chi-Forest Electrolyte Water";
        top2Desc.textContent =
          "Hydration-focused and caffeine-free; suitable for extended work sessions.";
        top2Tags.innerHTML = tag("Electrolytes") + tag("Caffeine-free");
      }

      /* =============================
         RULE 5 ‚Äî Taste enjoyment
         ============================= */
      if (data.goalTaste && !data.bloodSugarRisk) {
        top1Title.textContent = "Fruit-Flavoured Sparkling Water (Berry)";
        top1Desc.textContent =
          "A flavour-forward sparkling drink designed for enjoyment.";
        top1Tags.innerHTML = tag("Taste-first") + tag("Flavoured");

        top2Title.textContent = "Zero-Sugar Sparkling Water (Grape)";
        top2Desc.textContent =
          "A lighter zero-sugar alternative for a refreshing mouthfeel.";
        top2Tags.innerHTML = tag("Zero sugar") + tag("Refreshing");
      }
    }
  </script>
</body>
</html>
